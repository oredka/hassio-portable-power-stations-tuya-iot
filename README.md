# 2E Power Stations –¥–ª—è Home Assistant

[![hacs_badge](https://img.shields.io/badge/HACS-Custom-orange.svg)](https://github.com/custom-components/hacs)
[![GitHub release](https://img.shields.io/github/release/oredka/2e-power-stations.svg)](https://github.com/oredka/2e-power-stations/releases)

–ö–∞—Å—Ç–æ–º–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–æ—Ä—Ç–∞—Ç–∏–≤–Ω–∏–º–∏ –µ–ª–µ–∫—Ç—Ä–æ—Å—Ç–∞–Ω—Ü—ñ—è–º–∏ 2E —á–µ—Ä–µ–∑ Tuya IoT Cloud Platform.

## –ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ –ø—Ä–∏—Å—Ç—Ä–æ—ó

- **2E Syayvo** - –ø–æ—Ä—Ç–∞—Ç–∏–≤–Ω–∞ –µ–ª–µ–∫—Ç—Ä–æ—Å—Ç–∞–Ω—Ü—ñ—è
- –Ü–Ω—à—ñ Tuya-—Å—É–º—ñ—Å–Ω—ñ –ø–æ—Ä—Ç–∞—Ç–∏–≤–Ω—ñ –µ–ª–µ–∫—Ç—Ä–æ—Å—Ç–∞–Ω—Ü—ñ—ó

## –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

### –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥
- üìä –†—ñ–≤–µ–Ω—å –∑–∞—Ä—è–¥—É –±–∞—Ç–∞—Ä–µ—ó (%)
- ‚ö° –ü–æ—Ç–æ—á–Ω–∞ –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å (W)
- üîå –í—Ö—ñ–¥–Ω–∞/–≤–∏—Ö—ñ–¥–Ω–∞ –Ω–∞–ø—Ä—É–≥–∞ (V)
- üîã –°—Ç—Ä—É–º –∑–∞—Ä—è–¥—É/—Ä–æ–∑—Ä—è–¥—É (A)
- üìà –°—Ç–∞–Ω –∑–∞—Ä—è–¥—É/—Ä–æ–∑—Ä—è–¥—É

### –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è
- üîå –û—Å–Ω–æ–≤–Ω–∏–π –≤–∏–º–∏–∫–∞—á –∂–∏–≤–ª–µ–Ω–Ω—è
- üè† AC –≤–∏—Ö—ñ–¥ (220V)
- üîå DC –≤–∏—Ö–æ–¥–∏ (12V/USB)
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –∫–æ–∂–Ω—ñ 30 —Å–µ–∫—É–Ω–¥

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### –ß–µ—Ä–µ–∑ HACS (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ HACS ‚Üí Integrations
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å ‚ãÆ ‚Üí Custom repositories
3. –î–æ–¥–∞–π—Ç–µ `https://github.com/oredka/2e-power-stations`
4. –û–±–µ—Ä—ñ—Ç—å Category: **Integration**
5. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Install**
6. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å Home Assistant

### –í—Ä—É—á–Ω—É
```bash
cd /config/custom_components/
git clone https://github.com/oredka/2e-power-stations.git 2e_power_stations
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å Home Assistant
```

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### 1. –û—Ç—Ä–∏–º–∞–π—Ç–µ Tuya IoT credentials

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ [iot.tuya.com](https://iot.tuya.com)
2. –ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ—Å—è –∞–±–æ —É–≤—ñ–π–¥—ñ—Ç—å
3. –°—Ç–≤–æ—Ä—ñ—Ç—å **Cloud Project**
4. –û—Ç—Ä–∏–º–∞–π—Ç–µ **Access ID** —Ç–∞ **Access Secret**
5. –î–æ–¥–∞–π—Ç–µ —Å–≤—ñ–π –ø—Ä–∏—Å—Ç—Ä—ñ–π —á–µ—Ä–µ–∑ –¥–æ–¥–∞—Ç–æ–∫ **Tuya Smart** –∞–±–æ **Smart Life**
6. –ó–Ω–∞–π–¥—ñ—Ç—å **Device ID** –≤–∞—à–æ–≥–æ –ø—Ä–∏—Å—Ç—Ä–æ—é –≤ Cloud Project
7. –ê–∫—Ç–∏–≤—É–π—Ç–µ **IoT Core API** –≤ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è—Ö –ø—Ä–æ–µ–∫—Ç—É

### 2. –î–æ–¥–∞–π—Ç–µ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é –≤ Home Assistant

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è** ‚Üí **–ü—Ä–∏—Å—Ç—Ä–æ—ó —Ç–∞ —Å–ª—É–∂–±–∏**
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **+ –î–æ–¥–∞—Ç–∏ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é**
3. –ó–Ω–∞–π–¥—ñ—Ç—å **"2E Power Stations"**
4. –í–≤–µ–¥—ñ—Ç—å –æ—Ç—Ä–∏–º–∞–Ω—ñ Tuya credentials:
   - Access ID
   - Access Secret
   - Device ID
   - –†–µ–≥—ñ–æ–Ω (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –Ñ–≤—Ä–æ–ø–∞)

## –î–æ—Å—Ç—É–ø–Ω—ñ —Å—É—Ç–Ω–æ—Å—Ç—ñ

### –î–∞—Ç—á–∏–∫–∏ (Sensors)
- `sensor.2e_battery_level` - –†—ñ–≤–µ–Ω—å –±–∞—Ç–∞—Ä–µ—ó (%)
- `sensor.2e_power` - –ü–æ—Ç–æ—á–Ω–∞ –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å (W)
- `sensor.2e_voltage` - –ù–∞–ø—Ä—É–≥–∞ (V)
- `sensor.2e_current` - –°—Ç—Ä—É–º (A)

### –ü–µ—Ä–µ–º–∏–∫–∞—á—ñ (Switches)
- `switch.2e_main_power` - –û—Å–Ω–æ–≤–Ω–µ –∂–∏–≤–ª–µ–Ω–Ω—è
- `switch.2e_ac_output` - AC –≤–∏—Ö—ñ–¥ (220V)
- `switch.2e_dc_output` - DC –≤–∏—Ö–æ–¥–∏ (12V/USB)

## –£—Å—É–Ω–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –î–∞—Ç—á–∏–∫–∏ –ø–æ–∫–∞–∑—É—é—Ç—å 0 –∞–±–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ñ

1. –£–≤—ñ–º–∫–Ω—ñ—Ç—å debug –ª–æ–≥—É–≤–∞–Ω–Ω—è:
```yaml
logger:
  default: info
  logs:
    custom_components.2e_power_stations: debug
```

2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å HA —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏
3. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –∫–æ–¥–∏ data points –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –≤–∞—à–æ–º—É –ø—Ä–∏—Å—Ç—Ä–æ—é

### –ù–µ –≤–¥–∞—î—Ç—å—Å—è –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è

- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å Tuya credentials (Access ID, Secret)
- ‚úÖ –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –æ–±—Ä–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ä–µ–≥—ñ–æ–Ω
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ IoT Core API –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–æ –≤ Tuya Cloud Project
- ‚úÖ –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ Device ID –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π

### "Invalid handler specified"

–¶—è –ø–æ–º–∏–ª–∫–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–∞ —É –≤–µ—Ä—Å—ñ—ó 1.0.5. –û–Ω–æ–≤—ñ—Ç—å —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é —Ç–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å Home Assistant.

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

–ü—ñ—Å–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ —ñ–Ω—Ç–µ—Ä–≤–∞–ª –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö:
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è** ‚Üí **–ü—Ä–∏—Å—Ç—Ä–æ—ó —Ç–∞ —Å–ª—É–∂–±–∏**
2. –ó–Ω–∞–π–¥—ñ—Ç—å **2E Power Stations**
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **–ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏**
4. –ó–º—ñ–Ω—ñ—Ç—å —ñ–Ω—Ç–µ—Ä–≤–∞–ª –æ–Ω–æ–≤–ª–µ–Ω–Ω—è (10-300 —Å–µ–∫—É–Ω–¥, –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º 30)

## –í–µ—Ä—Å—ñ—ó

- **1.0.5** - –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ–º–∏–ª–∫—É "Invalid handler specified", –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–æ manifest.json
- **1.0.4** - –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ–º–∏–ª–∫—É async_setup
- **1.0.3** - –î–æ–¥–∞–Ω–æ —ñ–∫–æ–Ω–∫–∏ —Ç–∞ –ª–æ–≥–æ—Ç–∏–ø, –æ–Ω–æ–≤–ª–µ–Ω–æ –ø–µ—Ä–µ–∫–ª–∞–¥–∏
- **1.0.2** - –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∏–π –±—Ä–µ–Ω–¥–∏–Ω–≥ 2E
- **1.0.1** - –û–Ω–æ–≤–ª–µ–Ω–æ –±—Ä–µ–Ω–¥–∏–Ω–≥ –≤–∏—Ä–æ–±–Ω–∏–∫–∞

## –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

- üêõ [–ü–æ–≤—ñ–¥–æ–º–∏—Ç–∏ –ø—Ä–æ –ø—Ä–æ–±–ª–µ–º—É](https://github.com/oredka/2e-power-stations/issues)
- üìñ [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è](https://github.com/oredka/2e-power-stations)

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License - –¥–∏–≤—ñ—Ç—å—Å—è [LICENSE](LICENSE)
